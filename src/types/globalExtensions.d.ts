/**
 * 全局类型扩展
 *
 * 为第三方库和全局对象添加类型定义
 */

// ============================================================================
// Vitest 全局扩展
// ============================================================================

declare module 'vitest' {
  interface FullConfig<TUtils, TEnvironment> {
    timeout?: number;
  }
}

// ============================================================================
// PDF.js 扩展
// ============================================================================

declare module 'pdfjs-dist' {
  import * as pdfjs from 'pdfjs-dist/types/src/pdf';

  // 添加 default 导出
  const pdfjsDefault: typeof pdfjs;
  export default pdfjsDefault;
  export * from 'pdfjs-dist/types/src/pdf';
}

// ============================================================================
// JSZip 扩展
// ============================================================================

declare module 'jszip' {
  interface JSZip {
    default?: any;
  }
}

// ============================================================================
// PizZip 扩展 (用于 docxtemplater)
// ============================================================================

declare module 'pizzip' {
  interface PizZip {
    generate(options?: {
      type?: string;
      compression?: string;
      mimeType?: string;
    }): any;
  }
}

// ============================================================================
// Jest 匹配器扩展
// ============================================================================

declare namespace jest {
  interface Matchers<R, T> {
    toEndWith(suffix: string): R;
  }
}

// ============================================================================
// 全局对象扩展
// ============================================================================

declare global {
  interface Window {
    // 添加任何全局窗口属性
  }

  var alasql: any;
}

// ============================================================================
// Vitest 全局变量
// ============================================================================

declare const globalThis: {
  alasql?: any;
};

export {};
