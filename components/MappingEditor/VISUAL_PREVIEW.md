# 映射编辑器 - 视觉展示

## UI布局预览

```
┌─────────────────────────────────────────────────────────────────┐
│  字段映射编辑器                                                  │
│  ┌───────┐ ┌───────┐                                            │
│  │ 2个映射│ │ 1个未映射│                                           │
│  └───────┘ └───────┘    [AI自动映射] [显示未映射字段] [验证映射]  │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│  💡 AI 映射说明                                                  │
│  基于语义相似度自动匹配字段                                      │
│  匹配置信度 ████████████████████░░ 92%                          │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│  映射关系                                          [+ 添加映射]  │
├─────────────────────────────────────────────────────────────────┤
│  ┌─┐                                                           │
│  │↕│  {{产品名称}}  ───→  产品名称                              │
│  └─┘  (模板占位符)      (Excel列)                               │
│       转换: 无           状态: ✅ 已匹配                          │
│                    [编辑] [删除]                                 │
├─────────────────────────────────────────────────────────────────┤
│  ┌─┐                                                           │
│  │↕│  {{销售额}}  ───→  销售额                                  │
│  └─┘  (模板占位符)      (Excel列)                               │
│       转换: Number(value).toLocaleString()                      │
│       状态: ✅ 已匹配    [编辑] [删除]                           │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│  📊 映射预览                                    显示前 1 行数据  │
├─────────────────────────────────────────────────────────────────┤
│  行号    {{产品名称}}          {{销售额}}                        │
│  #1      iPhone               9,999                             │
│          [文本]               [数字]                             │
└─────────────────────────────────────────────────────────────────┘
```

## 编辑对话框布局

```
┌─────────────────────────────────────┐
│  编辑字段映射                    ✕  │
├─────────────────────────────────────┤
│  模板占位符:                        │
│  [🔍 搜索或选择占位符...]          │
│  [{{产品名称}}              ]      │
│                                     │
│  Excel列:                           │
│  [🔍 搜索或选择列...]              │
│  [产品名称                  ]      │
│                                     │
│  数据转换:                          │
│  ┌─────────────────────────────┐   │
│  │ [预设函数] [自定义表达式]    │   │
│  │                             │   │
│  │ 预设函数:                    │   │
│  │ [全部] [字符串] [数字]...    │   │
│  │                             │   │
│  │ 转大写                       │   │
│  │ String(value).toUpperCase() │   │
│  │                             │   │
│  │ 转小写                       │   │
│  │ String(value).toLowerCase() │   │
│  └─────────────────────────────┘   │
│                                     │
│  高级选项:                          │
│  ☑ 必填字段   ☑ 唯一值              │
│                                     │
│  💡 AI相似度建议                    │
│  ┌─────────────────────────────┐   │
│  │ 产品名称                     │   │
│  │ 相似度: 100%          [应用] │   │
│  └─────────────────────────────┘   │
│                                     │
│  转换预览:                          │
│  ┌─────────────────────────────┐   │
│  │ 原始值: iPhone               │   │
│  │ 转换后: IPHONE               │   │
│  └─────────────────────────────┘   │
│                                     │
│              [取消] [保存]           │
└─────────────────────────────────────┘
```

## 未映射字段面板

```
┌─────────────────────────────────────────┐
│  ⚠️ 未映射字段                           │
│  ┌───────────┐ ┌───────────┐            │
│  │ 1个占位符 │ │ 1个列      │            │
│  └───────────┘ └───────────┘            │
├─────────────────────────────────────────┤
│  未映射的模板占位符      未映射的Excel列  │
│  ┌─────────────────────┐  ┌──────────┐  │
│  │ {{库存状态}}    [+] │  │ 库存 [+] │  │
│  │  模板占位符         │  │ Excel列  │  │
│  └─────────────────────┘  └──────────┘  │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │ 💡 快速映射指南                  │   │
│  │ 点击任意未映射字段可快速建立     │   │
│  │ 映射关系。也可以点击"AI智能      │   │
│  │ 匹配"让系统自动匹配相似字段。     │   │
│  └─────────────────────────────────┘   │
└─────────────────────────────────────────┘
```

## 验证结果展示

```
┌─────────────────────────────────────────┐
│  ✅ 映射验证通过                    ✕   │
│  2 个占位符已映射                     │
│                                         │
│  ┌─────┐ ┌─────┐ ┌─────┐              │
│  │  2  │ │  1  │ │  0  │              │
│  │已映射│ │未映射│ │错误 │              │
│  └─────┘ └─────┘ └─────┘              │
│                                         │
│  建议操作:                              │
│  • 为未映射的占位符建立映射关系         │
│  • 运行"AI自动映射"智能匹配字段         │
└─────────────────────────────────────────┘
```

## 转换函数编辑器

```
┌─────────────────────────────────────────┐
│  数据转换                               │
│                                         │
│  [预设函数] [自定义表达式] [清除转换]   │
│                                         │
│  当前转换函数:                          │
│  ┌─────────────────────────────────┐   │
│  │ Number(value).toLocaleString()  │   │
│  └─────────────────────────────────┘   │
│                                         │
│  预设函数:                              │
│  [全部] [字符串] [数字] [日期] [格式化] │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │ 转大写                          │   │
│  │ String(value).toUpperCase()    │   │
│  ├─────────────────────────────────┤   │
│  │ 转小写                          │   │
│  │ String(value).toLowerCase()    │   │
│  ├─────────────────────────────────┤   │
│  │ 去空格                          │   │
│  │ String(value).trim()           │   │
│  └─────────────────────────────────┘   │
│                                         │
│  常用示例:                              │
│  • value.toUpperCase() - 转大写        │
│  • Number(value).toFixed(2) - 保留小数 │
│  • value.replace("A", "B") - 替换文本  │
└─────────────────────────────────────────┘
```

## AI自动映射按钮

```
空闲状态:
┌──────────────────────┐
│ 🤖 AI自动映射        │
└──────────────────────┘

加载状态:
┌──────────────────────────┐
│ 🔄 AI正在分析... ⋯      │
└──────────────────────────┘

完成状态:
┌──────────────────────────┐
│ ✅ 已生成映射            │
└──────────────────────────┘
```

## 响应式布局

### 桌面端 (> 1024px)
```
┌─────────────────────────────────────────────────────────────┐
│  映射列表                                   未映射字段面板  │
│  ┌─────────────────┐                   ┌─────────────────┐ │
│  │ {{产品名称}}    │                   │ {{库存状态}}    │ │
│  │ {{销售额}}      │                   │                 │ │
│  └─────────────────┘                   └─────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 平板端 (768px - 1024px)
```
┌─────────────────────────────┐
│  映射列表                   │
│  ┌─────────────────────┐   │
│  │ {{产品名称}}        │   │
│  │ {{销售额}}          │   │
│  └─────────────────────┘   │
├─────────────────────────────┤
│  未映射字段面板             │
│  ┌─────────────────────┐   │
│  │ {{库存状态}}        │   │
│  └─────────────────────┘   │
└─────────────────────────────┘
```

### 移动端 (< 768px)
```
┌───────────────────┐
│  映射列表         │
│  ┌─────────────┐ │
│  │ {{产品名称}}│ │
│  └─────────────┘ │
│  ┌─────────────┐ │
│  │ {{销售额}}  │ │
│  └─────────────┘ │
├───────────────────┤
│  [显示更多...]    │
└───────────────────┘
```

## 颜色系统

### 主色调
- 蓝色: `#3b82f6` (主要操作)
- 紫色: `#8b5cf6` (AI相关)

### 状态色
- 成功: `#10b981` (绿色)
- 警告: `#f59e0b` (黄色)
- 错误: `#ef4444` (红色)
- 信息: `#3b82f6` (蓝色)

### 中性色
- 文本主色: `#111827`
- 文本次要: `#6b7280`
- 边框: `#e5e7eb`
- 背景: `#f9fafb`

## 交互反馈

### Hover效果
```
映射项hover:
┌─────────────────────────────┐
│ {{产品名称}} ─→ 产品名称    │ ← 背景变灰
│                      [✏️][🗑️]│ ← 显示操作按钮
└─────────────────────────────┘
```

### 拖拽状态
```
正在拖拽:
┌─────────────────────────────┐
│ ↕️ {{产品名称}} ─→ 产品名称 │ ← 拖拽手柄高亮
│    (透明度50%)              │ ← 半透明效果
└─────────────────────────────┘

拖拽目标:
┌─────────────────────────────┐
│ ⇊ {{销售额}} ─→ 销售额      │ ← 显示放置区域
└─────────────────────────────┘
```

### 加载动画
```
AI分析中:
🤖 AI正在分析... ⋯ ⋯ ⋯
   ↑    ↑       ↑   ↑   ↑
  图标  文字    动画圆点
```

## 图标系统

### 状态图标
- ✅ 成功: `check-circle`
- ⚠️ 警告: `exclamation-triangle`
- ❌ 错误: `x-circle`
- ℹ️ 信息: `information-circle`

### 操作图标
- ✏️ 编辑: `pencil`
- 🗑️ 删除: `trash`
- ➕ 添加: `plus`
- 🔍 搜索: `search`
- ↕️ 拖拽: `dots-vertical`

### AI图标
- 🤖 AI: `chip`
- ⚡ 智能: `lightning-bolt`
- 💡 建议: `light-bulb`

## 字体系统

### 字体大小
- 标题: `text-lg` (18px)
- 正文: `text-sm` (14px)
- 小字: `text-xs` (12px)
- 代码: `text-sm` (14px, monospace)

### 字体粗细
- 标题: `font-semibold` (600)
- 正文: `font-medium` (500)
- 次要: `font-normal` (400)

### 字体家族
- 默认: system-ui
- 代码: monospace

## 间距系统

### 外边距
- 组件间距: `space-y-4` (16px)
- 区块间距: `space-y-6` (24px)
- 大区间距: `space-y-8` (32px)

### 内边距
- 按钮: `px-4 py-2` (16px 8px)
- 卡片: `p-4` (16px)
- 对话框: `p-6` (24px)

## 圆角系统

- 小圆角: `rounded` (4px)
- 中圆角: `rounded-md` (6px)
- 大圆角: `rounded-lg` (8px)
- 超大圆角: `rounded-xl` (12px)

## 阴影系统

- 轻微: `shadow-sm`
- 常规: `shadow`
- 深度: `shadow-lg`
- 强调: `shadow-xl`

---

**设计规范版本：** v1.0.0
**设计系统：** Tailwind CSS
**图标库：** Heroicons (内嵌SVG)
