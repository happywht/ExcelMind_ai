# Day 2 模板管理组件 - 快速测试指南

## 快速开始

### 1. 确保开发服务器运行
```bash
npm run dev
# 服务器将在 http://localhost:3001 启动
```

### 2. 打开浏览器
访问: http://localhost:3001

## 快速测试检查清单

### 测试场景1: 创建新模板 (5分钟)

#### 步骤1: 打开模板创建页面
1. 在主界面找到"模板管理"或"文档空间"
2. 点击"创建新模板"按钮
3. 验证: 看到模板编辑器对话框,包含4个标签页

#### 步骤2: 上传模板文件
1. 在"上传模板"标签页
2. 拖拽一个.docx文件到上传区域
3. 验证:
   - 文件名显示
   - 上传进度条
   - "上传成功"消息
   - 自动切换到"变量映射"标签页

#### 步骤3: 配置变量映射
1. 在Excel字段文本框中输入:
   ```
   姓名
   身份证号
   联系电话
   ```
2. 点击"智能映射"按钮
3. 验证:
   - 字段自动匹配
   - 映射状态显示(已映射/未映射)
   - 验证状态指示器

#### 步骤4: 预览模板
1. 切换到"预览"标签页
2. 验证:
   - 模板内容显示
   - 变量占位符高亮(黄色/蓝色背景)
   - 占位符图例

#### 步骤5: 保存模板
1. 填写模板信息:
   - 名称: 测试合同模板
   - 分类: 合同
   - 描述: E2E测试模板
2. 点击"保存"按钮
3. 验证: 保存成功消息

---

### 测试场景2: 编辑现有模板 (3分钟)

#### 步骤1: 打开编辑页面
1. 在模板列表中找到已创建的模板
2. 点击"编辑"按钮
3. 验证: 模板编辑器以编辑模式打开

#### 步骤2: 修改映射
1. 切换到"变量映射"标签页
2. 修改某个字段的映射
3. 验证: 映射更新成功

#### 步骤3: 预览更改
1. 切换到"预览"标签页
2. 验证: 预览显示最新映射

#### 步骤4: 保存更改
1. 点击"保存"按钮
2. 验证: 保存成功消息

---

### 测试场景3: 测试预览功能 (2分钟)

#### 缩放测试
1. 打开任意模板的预览
2. 点击"放大"按钮(4次)
   - 验证: 缩放到140%
3. 点击"缩小"按钮(2次)
   - 验证: 缩放到120%
4. 点击"重置"按钮
   - 验证: 缩放恢复到100%

#### 全屏测试
1. 点击"全屏"按钮
   - 验证: 进入全屏模式
2. 按ESC键
   - 验证: 退出全屏模式

#### 显示选项测试
1. 点击"占位符"按钮
   - 验证: 占位符高亮隐藏
2. 再次点击"占位符"按钮
   - 验证: 占位符高亮显示

---

### 测试场景4: 版本历史 (2分钟)

#### 查看版本历史
1. 打开模板编辑器
2. 切换到"版本历史"标签页
3. 验证: 版本列表显示

#### 展开版本详情
1. 点击某个版本的展开按钮
2. 验证: 版本详情显示(变更内容、备注、创建者)

#### 版本对比
1. 点击"版本对比"按钮
2. 选择两个版本
3. 点击"开始对比"
4. 验证: 对比视图显示

#### 版本回滚
1. 点击某个非当前版本的回滚按钮
2. 确认回滚
3. 验证: 回滚成功消息

---

### 测试场景5: 错误处理 (3分钟)

#### 文件类型验证
1. 尝试上传.txt文件
2. 验证: "不支持的文件格式"错误消息

#### 文件大小限制
1. 尝试上传超大文件(>10MB)
2. 验证: "文件过大"错误消息

#### 表单验证
1. 不填写任何信息,直接点击保存
2. 验证:
   - "请先上传模板文件"错误
   - "请输入模板名称"错误
   - "请选择分类"错误

#### 必填字段验证
1. 上传模板后,切换到变量映射
2. 不映射任何字段,切换到预览
3. 验证: 状态栏显示"需要完成映射"警告

---

### 测试场景6: 可访问性 (2分钟)

#### 键盘导航
1. 使用Tab键导航
   - 验证: 焦点在可交互元素间移动
2. 使用Enter激活按钮
   - 验证: 按钮被激活
3. 使用Escape关闭对话框
   - 验证: 对话框关闭

#### ARIA标签
1. 打开浏览器开发者工具
2. 检查元素的ARIA标签
   - 验证: 上传区域有role="button"
   - 验证: 表单元素有正确的label

---

## 测试结果记录

### 通过的功能
- [ ] 模板上传(拖拽/点击)
- [ ] 文件验证(类型/大小)
- [ ] 进度显示
- [ ] 变量自动提取
- [ ] 变量映射(手动/自动)
- [ ] 映射验证
- [ ] 模板预览
- [ ] 缩放控制
- [ ] 全屏模式
- [ ] 版本历史
- [ ] 版本对比
- [ ] 版本回滚
- [ ] 表单验证
- [ ] 错误处理

### 发现的问题
1.
2.
3.

### UI/UX观察
1.
2.
3.

---

## 常见问题

### Q: 上传后没有看到提取的变量?
A: 确保上传的是有效的.docx文件,文件中包含{变量名}格式的占位符

### Q: 智能映射没有匹配到字段?
A: 检查Excel字段列表是否已填写,字段名需要与变量名相似

### Q: 预览显示不正确?
A: 清除浏览器缓存并刷新页面

### Q: 无法保存模板?
A: 检查所有必填字段是否已填写(模板文件、名称、分类)

---

## 测试技巧

### 快速测试
- 使用简单的.docx文件
- 减少测试字段数量
- 跳过高级选项测试

### 完整测试
- 测试各种文件类型
- 测试边界条件
- 测试所有高级功能

### 性能测试
- 使用大文件测试上传性能
- 测试大量变量的缩放性能
- 测试版本列表的滚动性能

---

## 测试完成后

### 提交结果
1. 记录所有测试结果
2. 截图关键功能
3. 报告发现的问题

### 后续步骤
1. 修复发现的问题
2. 重新测试修复的功能
3. 更新测试文档

---

## 联系方式

如有问题或需要帮助,请联系:
- 测试负责人: Senior QA Engineer
- 项目仓库: D:\家庭\青聪赋能\excelmind-ai

---

**指南版本**: 1.0.0
**最后更新**: 2026-01-25
